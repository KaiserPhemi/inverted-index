<!DOCTYPE html>
<html lang="en" ng-app="mainApp">
	
	<!--Contains site metadata and links-->
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>An Inverted Index App</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="css/index.css">
	</head>
	
	<!--Visible part of page-->
	<body ng-controller="MainController"> 

		<!--Navigation bar-->
		<nav class="navbar navbar-inverse navbar-light navbar-static-top bg-faded main-nav">

			<!--Page logo-->
			<span>
				<a href="index.html"><img src="img/inv-ind.jpg" class="brand logo img-responsive"></a>
			</span>
			
			<!--Page heading-->
			<span>
				<h3 class="page-heading">Inverted Index App</h3>
			</span>

			<div class="container">
				
				<!-- Hamburger menu for links -->
				<div class="navbar-header">
            		<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".main-links" aria-expanded="false">
		                <span class="sr-only">Toggle navigation</span>
		                <span class="icon-bar"></span>
		                <span class="icon-bar"></span>
		                <span class="icon-bar"></span>
            		</button>
        		</div>

				<!--Navigation-->
				<div class="collapse navbar-collapse">
					<ul class="navbar-nav navbar-right main-links nav-pills">
					  <li><a href="#" data-toggle="modal" data-target="#aboutMessage">About App</a></li>
					  <li><a href="#" data-toggle="modal" data-target="#helpMessage">Help</a></li>
					</ul>
				</div>

                <!-- About modal -->
                <div class="modal fade" id="aboutMessage" role="dialog" aria-hidden="true">
                    <div class="modal-dialog" >
                        <div class="modal-content">
                            
                            <!-- Modal Header -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">About App</h4>
                            </div>

                            <!-- Modal Body -->
                            <div class="modal-body">
                                <h5>Inverted Index</h5>
                                <p>An Inverted Index is an Index Data Structure storing a mapping from content to location (i.e. a mapping of words or numbers to it's location in a database file).
                                This Data Structure is widely used in several scenarios e.g. Cell Phone Lookup (where you have a phonebook which several contacts and you type in a person's number which in turn brings out the contact details of the person associated with that number).</p>
                                <p>This application builds an index from books in a file and allows you search through the file for words in that book according to the description <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/inverted-index.html">here</a>. Also, the application will allow users upload a JSON file with this <a href="https://gist.github.com/q-ode/72019451b98f079a8d737eb7a412bf14">structure.</a></p>
                            </div>

                            <!-- Modal footer -->
                            <div class="modal-footer">
                                <button type="button" class="close btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>                        
                    </div>
                </div>

                <!-- Help modal -->
                <div class="modal fade" id="helpMessage">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            
                            <!-- Modal Header -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Help</h4>
                            </div>

                            <!-- Modal body -->
                            <div class="modal-body">
                                <h5>How to use</h5>
                            </div>

                            <!-- Modal footer -->
                            <div class="modal-footer">
                                <button type="button" class="close btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
                        
			</div>
		</nav>

        <div class="alert" id="msg-box" ng-model='message'>
            <p>{{message}}</p>
        </div>

		<!-- Upload, create-index and Search Bar -->
		<div class="container control-wrapper">
				
				<!-- Upload section -->
				<div class="btn btn-primary upload">
					<span class="btn-upload">Upload File</span>
					<input type="file" class="file-upload" accept=".json" name="files[]" onchange="InvertedIndex.readFile()" multiple>
				</div>

				<!-- Create index bar -->
				<div>
                    <input type="text" name="file-name" class="file-name">
					<button class="create-index btn submit" onclick="invIndex.createIndex()">Create Index</button>
				</div>

				<!-- Search Box -->
				<form class="search-form">
					<input class="search" type="text" placeholder="Type here">
					<input class="btn submit" type="submit" value="Search" ng-submit="searchIndex()">
				</form>
		</div>

		<!-- Output section -->
		<div class="container main-section">
			
			<!-- Output table -->
			<table>
				<tbody>
					<tr>
						<td><p>Word:</p></td>
						<td><p>Doc1:</p></td>
						<td><p>Doc2:</p></td>
					</tr>
					<tr>
						<td><input type="text" name="words"></td>
						<td><input type="text" name="doc1"></td>
						<td><input type="text" name="doc2"></td>
					</tr>
				</tbody>
					<tr>
						<td><input type="button" value=" + " file-upload></td>
					</tr>
				<tbody>
				</tbody>
			</table>
					
		</div>
		

		<!--Shared scripts-->
		<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular.min.js'></script>
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

		<!--Custom scripts-->
		<script src="js/app.js"></script>
		<script src="js/mainModule.js"></script>

		<!-- Modal behaviour -->
		<script>
		</script>
	</body>
</html>