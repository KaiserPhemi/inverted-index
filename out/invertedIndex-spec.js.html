<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: invertedIndex-spec.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: invertedIndex-spec.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/**
 * Dependencies declared globally
 */
const InvertedIndex = require('../app/js/invertedIndex.js'),
  invertedIndex = new InvertedIndex(),
  badFormat = require('./books/badFormat.json'),
  empty = require('./books/empty.json'),
  book = require('./books/book.json'),
  otherBook = require('./books/otherBook.json');
/**
 * Test case for Class definition
 */
describe('InvertedIndex class', () => {
  it('should be defined', () => {
    expect(InvertedIndex).toBeDefined();
  });
});
/**
 * Test case for constructor
 */
describe('Constructor', () => {
  it('should be able to create an instance of InvertedIndex class', () => {
    expect(typeof invertedIndex).toBe('object');
    expect(invertedIndex instanceof InvertedIndex).toBe(true);
  });
});
/**
 * Test Cases for validateFile method
 */
describe('validateFile', () => {
  it('should return `true` for valid json file', () => {
    expect(InvertedIndex.validateFile('books.json', book)).toBe(true);
  });

  it('should return `false` for empty files', () => {
    expect(InvertedIndex.validateFile('empty.json', empty)).toBe(false);
  });

  it('should return `false` for invalid file', () => {
    expect(InvertedIndex.validateFile('bad-format', badFormat)).toBe(false);
  });
});
/**
 * Test cases for tokenize method
 */
describe('tokenize method', () => {
  it(`should return array of unique words
   without whitespace/characters`, () => {
    expect(InvertedIndex.tokenize(book[0].title))
    .toEqual(['alice', 'in', 'wonderland']);
  });
});
/**
 * Test cases for createIndex method
 */
describe('createIndex method', () => {
  it('should return `true` if index is created', () => {
    expect(invertedIndex.createIndex('otherBook.json', otherBook))
    .toEqual(true);
  });

  it('should return `false` if index is not created', () => {
    expect(invertedIndex.createIndex('empty.json', empty))
    .toBeFalsy();
  });
});
/**
 * Test case for getIndex method
 */
describe('getIndex method', () => {
  it(`should return index of words and 
    number of books in a json file`, () => {
    const returnedObject = { words: { alice: [0],
      in: [0],
      wonderland: [0],
      a: [0],
      falls: [0],
      hole: [0],
      into: [0],
      rabbit: [0] },
      bookCount: 1 };
    expect(invertedIndex.getIndex(otherBook)).toEqual(returnedObject.word);
  });
});
/**
 * Test case for searchIndex method
 */
describe('searchIndex method', () => {
  it(`should return an object 
    containing searched index from an index created`, () => {
    const query = 'in',
      fileArray = ['otherBook.json'],
      searchResult = { 'otherBook.json': { in: [0] } };
    expect(invertedIndex.searchIndex(fileArray, query))
    .toEqual(searchResult);
  });

  it(`should return an object
      with empty array indicating query not found in index created`, () => {
    const query = 'femi',
      fileArray = ['otherBook.json'],
      searchResult = { 'otherBook.json': { femi: [] } };
    expect(invertedIndex.searchIndex(fileArray, query))
    .toEqual(searchResult);
  });
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#InvertedIndex">InvertedIndex</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Thu Apr 13 2017 13:12:58 GMT+0100 (WAT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
